1. Obter a senha do PostgreSQL:
   kubectl get secret {{ include "postgresql-simple.postgresql.name" . }} \
     -n {{ .Release.Namespace }} \
     -o jsonpath="{.data.postgres-password}" | base64 -d && echo

2. Conectar ao PostgreSQL:
   kubectl port-forward svc/{{ include "postgresql-simple.postgresql.name" . }} \
     5432:5432 -n {{ .Release.Namespace }}
   
   psql -h localhost -U {{ .Values.postgresql.username }} -d {{ .Values.postgresql.database }}

{{- if .Values.pgbouncer.enabled }}
3. Conectar via PgBouncer:
   kubectl port-forward svc/{{ include "postgresql-simple.pgbouncer.name" . }} \
     5432:5432 -n {{ .Release.Namespace }}
   
   psql -h localhost -U {{ .Values.postgresql.username }} -d {{ .Values.postgresql.database }}
{{- end }}

{{- if .Values.exposePublicly.enabled }}
4. PostgreSQL está exposto publicamente:
   Service: {{ include "postgresql-simple.postgresql.name" . }}-public
   Tipo: {{ .Values.exposePublicly.serviceType }}
   Porta: {{ .Values.exposePublicly.port }}
   
   Obter IP externo:
   kubectl get svc {{ include "postgresql-simple.postgresql.name" . }}-public -n {{ .Release.Namespace }}
   
   ⚠️  ATENÇÃO: PostgreSQL está exposto publicamente na porta {{ .Values.exposePublicly.port }}!
{{- end }}

5. Credenciais:
   Usuário: {{ .Values.postgresql.username }}
   Database: {{ .Values.postgresql.database }}
   Senha: (execute o comando acima para obter)

